4.3. HTTP 控制数据
============================
与 HTTP/2 一样，HTTP/3 使用一系列伪标头字段，其中字段名以 : 字符（ASCII 0x3a）开头。这些伪标头字段传达消息控制数据；请参阅【[HTTP](https://www.rfc-editor.org/rfc/rfc9114.html#RFC9110)】的[第6.2节](https://www.rfc-editor.org/rfc/rfc9110#section-6.2)。

伪标头字段不是 HTTP 字段。端点不得生成除了本文档中定义的以外的伪标头字段。但是，通过扩展可以协商对此限制的修改；请参阅第9节。

伪标头字段仅在定义它们的上下文中有效。为请求定义的伪标头字段不得出现在响应中；为响应定义的伪标头字段不得出现在请求中。伪标头字段不得出现在协议尾部。端点必须将包含未定义或无效伪标头字段的请求或响应视为格式错误。

所有伪标头字段必须出现在常规标头字段之前的标头部分中。任何包含出现在常规标头字段之后的标头部分中的伪标头字段的请求或响应都必须被视为格式错误。

## 4.3.1. 请求伪标头字段

以下定义了请求相关的伪标头字段：

":method": 包含HTTP方法（[HTTP]第9节）

":scheme": 包含目标 URI 的 scheme 格式部分（[URI]的第3.1节）。

    :scheme 伪标头不限于“http”和“https”的URI。代理或网关可以翻译非 HTTP 方案的请求，从而使用 HTTP 与非 HTTP 服务交互。

    有关使用“https”以外的方案的指导，请参阅第3.1.2节。


":authority": 包含目标 URI 的权限部分（[URI]的第3.2节）。权限不得包括“http”或“https”的 URI 的已弃用的用户信息子组件。

    为了确保 HTTP/1.1 请求行能够被准确地重现，当从具有特定方法形式的请求目标的 HTTP/1.1 请求转换时，必须省略此伪标头字段；参见[HTTP]的第7.1节。直接生成 HTTP/3 请求的客户端应该使用 :authority 伪标头字段而不是 Host 标头字段。将 HTTP/3 请求转换为 HTTP/1.1 的中间代理必须通过复制 :authority 伪标头字段的值来创建主机字段，如果请求中不存在 Host 字段。


":path": 包含目标 URI 的路径和查询部分（“绝对路径”和可选的 ？字符（ASCII 0x3f）后跟“查询”；请参阅[URI]的第3.3节和第3.4节。

    对于"http"或"https"的 URI；"http"或"https"如果不包含路径的 URI 必须包含值 /（ASCII 0x2f），此伪标头字段不得为空。不包含路径的OPTIONS 请求需要包含值为 *（ASCII 0x2a）的 :path 伪标头字段；参见[HTTP]的第7.1节。

除非请求是 CONNECT 请求，否则所有 HTTP/3 都需要为 :method，:scheme 和 :path 伪标头字段带上一个值；请参阅第4.4节。

如果 :scheme 伪标头字段标识具有强制权限组件（包括 http 和 https ）的scheme，则请求必须包含 :authority 伪标头字段或 Host 标头字段。如果这些字段存在，它们不得为空。如果两个字段都存在，它们必须包含相同的值。如果 scheme 没有强制权限组件并且请求目标也没有提供任何组件，则请求不得包含 :authority 伪标头或 Host 标头字段。

HTTP 请求如果省略掉了强制性需要带上的伪标头，或包含带有无效值的伪标头字段，那这个请求将被视为格式错误。

HTTP/3没有定义携带 HTTP/1.1 求行中包含的版本标识符的方式。HTTP/3 请求隐含地具有协议版本“3.0”。


## 4.3.2. 响应伪标头字段

对于响应来说，定义了一个带有 HTTP 状态代码的“:status”伪标头字段；参见[HTTP]的第15节。此伪标头字段必须包含在所有响应中；否则为响应格式错误（参见第4.1.2节）。

HTTP/3 没有定义携带 HTTP/1.1 状态行中包含的版本或原因短语的方式。HTTP/3 响应隐含地具有协议版本“3.0”。

